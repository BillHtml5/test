<!DOCTYPE html>
<html lang="zh-Hans">
<head>
    <meta charset="UTF-8">
    <title>Document</title>
    <style>
        #canvas{
            background: ghostwhite;
            display: block;

        }
        button{
            position: fixed;
            bottom: 0;
            left: 0;
        }
    </style>
</head>
<body>
    <canvas id="canvas" width=300 height=300></canvas>
    <button id="eraser">橡皮擦</button>
    <script>
        var yyy=document.getElementById('canvas');
        prt()

        window.onresize =function(){
            prt()

        }

        function prt(){
        var pageWidth=document.documentElement.clientWidth
        var pageHeight=document.documentElement.clientHeight

        yyy.width = pageWidth
        yyy.height= pageHeight

        }

        var context=yyy.getContext('2d');

        function drawCircle(x,y,redius){
            context.beginPath()
            context.fillStyle='black'
            context.arc(x,y,redius,0,Math.PI*2);
            context.fill()
        }

        var painting=false
        var lastPoint={x:undefined,y:undefined}
        yyy.onmousedown=function(aaa){
            painting=true
            var x=aaa.clientX
            var y=aaa.clientY
            var lastPoint={"x":x,"y":y}
          
        }

        yyy.onmousemove=function(aaa){
            if(painting){
             var x=aaa.clientX
            var y=aaa.clientY
            var newPoint={"x":x,"y":y}
            
            drawLine(lastPoint.x,lastPoint.y,newPoint.x,newPoint.y) 
            lastPoint=newPoint
            }
        }

        yyy.onmouseup=function(aaa){
            painting=false
        }

        function drawLine(x1,y1,x2,y2){
            context.beginPath();
            context.strokeStyle='black'
            context.moveTo(x1,y1)
            context.lineWidth=5
            context.lineTo(x2,y2)
            context.stroke()
            context.closePath()

        }

        var usingEraser =false
        eraser.onclick =function(){
            usingEraser=!usingEraser
        }

    </script>
</body>
</html>